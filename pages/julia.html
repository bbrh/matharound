<html>
<head>
    <title>matharound - fractals - koch</title>
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="/css/ma.css">
    <script src="/js/libs/jquery.min.js"></script>
    <script src="/js/libs/jquery.history.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
    <script src="/js/Utils.js"></script>
    <script src="/js/Canvas.js"></script>
    <script src="/js/GAnalytics.js"></script>
    <script src="/js/Complex.js"></script>
    <script src="/js/fractals/Julia.js"></script>
</head>
<body>
    <div class="content">
        <header class="header">
            <h1 class="page-header1"><a href="/index.html">Matharound</a></h1>
            <h2 class="page-subheader" style="white-space: nowrap;">Julia Set</h2>

            <div class="control-form">
              <span class="iterations control-element" style="width:13em;"></span>
            </div>

        </header>

        <div class="wrap">
            <div class="canvas-container" style="position:absolute;"></div>
        </div>

        <script type="text/javascript">
    $(document).ready(function() {
      var dim = Utils.getSize();
      var canvas = new Canvas($('.canvas-container'), { background: 'black' }, dim);

      var colors = [10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120,125,130,135,140,145,150,155,160,165,170,175,180,185,190,195,200,205,210,215,220,225,230,235,240];
      j = new Julia(new Complex(.4, .25), colors.length-1);
      var seq = 0;

      function cDelta(f) {
        return new Complex(0.4*Math.cos(f/100) + Math.random()/200, 0.25*Math.cos(f/100) + Math.random()/200);
      }

      function update() {
        MULT = 1.3;
        j = new Julia(cDelta(seq), MULT*(colors.length-1));
        canvas.init();

        for (var x = 0; x < dim.w; x++) {
          for (var y = 0; y < dim.h; y++) {
            var xc = (x/dim.w-.5 /*+ Center.x/dim.w*/)*2*/*Center.zoom*/j.R;
            var yc = (y/dim.h-.5 /*+ Center.y/dim.h*/)*2*/*Center.zoom*/j.R;
            var iters = j.evaluate(new Complex(xc, yc));
            if (iters > MULT) {
              canvas.drawPixel(1, x, y, colors[Math.floor(iters/MULT)], 0, 0, 256)
            }
          }
        }
        seq ++;
        canvas.done();
      }

      update();
    })
        </script>
    </div>

    <footer class="footer">
        <div class="col-sm-6 footer-column">
            <p class="text-left">Updates on twttr</p>
            <p class="text-left">Made by me</p>
        </div>
        <div class="col-sm-6 footer-column">
            <p class="text-right">Available on GitHub</p>
        </div>
    </footer>
</body>
</html>
